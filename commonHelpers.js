import{i as g,S as w,a as $}from"./assets/vendor-5401a4b0.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();function y(e,o){e.forEach((s,i)=>{const t=v(s);o.insertAdjacentHTML("beforeend",t),i===e.length-1&&o.lastElementChild.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})})}function v(e){return`
    <div class="card" data-large-image="${e.largeImageURL}">
      <a href="${e.largeImageURL}">
        <img src="${e.webformatURL}" class="card-img" alt="${e.tags}">
      </a>
      <ul class="img-info">
        <li class="img-info-item">Likes: ${e.likes}</li>
        <li class="img-info-item">Views: ${e.views}</li>
        <li class="img-info-item">Comments: ${e.comments}</li>
        <li class="img-info-item">Downloads: ${e.downloads}</li>
      </ul>
    </div>
  `}const n=document.querySelector(".loader"),p=document.querySelector(".form"),P=document.querySelector(".search-input"),d=document.querySelector(".gallery"),a=document.querySelector(".load-more-btn");let l=1,m=0,c=0,h="",u=!0;p.addEventListener("submit",async e=>{e.preventDefault(),d.innerHTML="";const o=P.value.trim();if(n.style.display="inline-block",!o||o.length<3){g.error({message:"Search query must be at least 3 characters long",position:"topRight"}),n.style.display="none";return}try{const s=await L(o);h=o,m=s.totalHits,y(s.images,d,u),b(m>l*15),u=!1}catch(s){console.error(s)}finally{n.style.display="none",p.reset()}a.disabled=!1,a.style.cursor="pointer"});a.addEventListener("click",async()=>{n.style.display="inline-block",l++;try{const e=await L(h,l);y(e.images,d,u),new w(".gallery a",{captionsData:"alt",captionDelay:250}).refresh(),b(m>l*15),u=!1}catch(e){console.error(e)}finally{n.style.display="none"}});function b(e){a.style.display=e&&l<c?"block":"none"}async function L(e,o=1){const t=`https://pixabay.com/api/?key=42555164-0de9ae952fe9eb05e418ffbde&q=${e}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=15`;try{const r=await $.get(t);return r.data.hits.length===0?(g.info({message:"No images found",position:"topRight"}),d.innerHTML="",c=0):c=Math.ceil(r.data.totalHits/15),{images:r.data.hits,totalHits:r.data.totalHits,totalPages:c}}catch(r){return console.error("Error during search:",r.message),g.error({title:"Error",message:"An error occurred during the search",position:"topRight"}),{images:[],totalHits:0,totalPages:0}}}window.addEventListener("load",()=>{a.disabled=!0,a.style.cursor="not-allowed"});
//# sourceMappingURL=commonHelpers.js.map
